<!--  -->
<div class="search">
  <div class="search__content">
    <div class="search__content-sidebar">
      <div *ngIf="loader" class="content-element-center">
        <mat-spinner></mat-spinner>
      </div>
      <!--  -->
      <div class="reset" *ngIf="!loader">
        <ng-container *ngFor="let filter of listFilter">
          <ng-container *ngFor="let filterItem of filter.inputActive">
            <ng-container *ngIf="filterItem.active">
              <button
                mat-stroked-button
                style="margin-right: 5px; margin-top: 5px"
                (click)="filterSearch(filterItem.name, filter.name, false)"
              >
                {{ filterItem.name }}&nbsp;&Cross;
              </button>
            </ng-container>
          </ng-container>
        </ng-container>
      </div>
      <!--  -->
      <div class="select" *ngIf="!loader">
        <div class="select__content">
          <!-- Category STR -->
          <div class="select__conten-category">
            <ng-container *ngFor="let filter of listFilter; let i = index">
              <hr />
              <p>{{ filter.name }}</p>
              <ng-container
                *ngFor="let filterItem of filter.inputActive; let idx = index"
              >
                <p>
                  <mat-checkbox
                    (click)="
                      filterSearch(
                        filterItem.name,
                        filter.name,
                        !checkboxInput.checked
                      )
                    "
                    [checked]="filterItem.active"
                    [id]="i + '' + '0' + idx"
                    color="primary"
                    #checkboxInput
                  >
                    ID-{{ i + "" + "0" + idx }}&nbsp;&nbsp;&nbsp;{{
                      filterItem.name
                    }}
                    <span class="counter"
                      >&nbsp;( {{ filterItem.counter + 1 }} )</span
                    ></mat-checkbox
                  >
                </p>
              </ng-container>
            </ng-container>
          </div>
          <!-- Category END -->
        </div>
      </div>
    </div>
    <div class="search__content-body">
      <div *ngIf="loader" class="content-element-center">
        <mat-spinner></mat-spinner>
      </div>
      <!--  -->
      <div class="settings" *ngIf="!loader">
        <mat-form-field appearance="fill" class="settings__limit">
          <mat-label>{{ limit }}</mat-label>
          <mat-select name="select__limit" id="limit">
            <mat-option
              (click)="newLimit(10)"
              [disabled]="limit === 10"
              value="10"
              >10</mat-option
            >
            <mat-option
              (click)="newLimit(25)"
              [disabled]="limit === 25"
              value="25"
              >25</mat-option
            >
            <mat-option
              (click)="newLimit(50)"
              [disabled]="limit === 50"
              value="50"
              >50</mat-option
            >
            <mat-option
              (click)="newLimit(50)"
              [disabled]="limit === 100"
              value="100"
              >100</mat-option
            >
          </mat-select>
        </mat-form-field>
      </div>
      <!--  -->
      <div class="cart" *ngIf="!loader">
        <!-- Cart START -->
        <div
          class="cart-item"
          *ngFor="let product of productList; let i = index"
        >
          <mat-card class="example-card" XSmall>
            <div class="image">
              <img
                [src]="url_server_folder + product.imageSrc[0]"
                class="image__src"
                [routerLink]="'/card/' + product._id + '/info/'"
                style="cursor: pointer"
              />
            </div>
            <mat-card-content>
              <div class="favorite__compare">
                <p class="favorite">
                  <button
                    class="favorite__button"
                    (click)="addRemoveFavorite(product._id)"
                    [disabled]="workFunction"
                  >
                    <span
                      class="material-symbols-outlined"
                      [ngClass]="{
                        material_symbols_outlined_like: checkedFavorite(
                          product._id
                        )
                      }"
                    >
                      favorite
                    </span>
                  </button>
                </p>
                <p class="compare"></p>
              </div>
              <div
                class="mat-title block__title"
                [routerLink]="'card/' + product._id"
              >
                <p
                  [matTooltip]="product.name"
                  matTooltipClass="example-tooltip-primary"
                  class="title__cart"
                >
                  {{ product.name.slice(0, 24) }}
                  <span *ngIf="product.name.length > 24">...</span>
                </p>
              </div>
              <div class="price">
                <p class="mat-subheading-1 price__cart">
                  {{ product.price | price
                  }}<span class="price__cart-currency">&nbsp;â‚´</span>
                </p>
                <p class="price__cart-shop">
                  <button mat-button color="accent">
                    <span class="material-symbols-outlined" color="primary">
                      shopping_cart
                    </span>
                  </button>
                </p>
              </div>
            </mat-card-content>
            <mat-card-actions> </mat-card-actions>
          </mat-card>
        </div>
        <!-- Cart END -->
      </div>
      <!--  -->
      <div class="pagination" *ngIf="!loader">
        <div
          class="pagination__item pagination-prev"
          [ngClass]="{ pagination__active: currentPage - 1 !== 0 }"
          (click)="newPage(currentPage - 1)"
        >
          <span class="material-symbols-outlined"> chevron_left </span>
        </div>
        <ng-container *ngFor="let page of maxPage">
          <div
            class="pagination__item"
            [ngClass]="{ pagination__active: currentPage === page }"
            (click)="newPage(page)"
          >
            {{ page }}
          </div>
        </ng-container>
        <div
          class="pagination__item"
          [ngClass]="{ pagination__active: currentPage + 1 <= maxPage.length }"
          (click)="newPage(currentPage + 1)"
        >
          <span class="material-symbols-outlined"> chevron_right </span>
        </div>
      </div>
    </div>
  </div>
</div>
